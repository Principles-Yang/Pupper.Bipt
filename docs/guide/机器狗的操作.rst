=================
机器狗的操作
=================

运行机器狗
-----------------
#. 插入2S 锂电池。 
    
    * 如果您按照上述说明进行操作，则代码将在启动时自动开始运行。
    * 如果要关闭此功能，请使用ssh进入机械狗，进入rw模式，然后执行以下操作：:: 
        
        sudo systemctl disable robot
        

#. 通过蓝牙配对将PS4控制器连接到Pi。
    
    * 要将其置于配对模式，请同时按住共享按钮Share和圆形Playstation按钮，直到开始快速进行交替双闪
    * 如果开始缓慢闪烁一次，请按住Playstation按钮直到停止闪烁，然后重试。

#. 等到控制器完成机器狗的配对后，控制器应将其变为淡绿色（或您在pupper / HardwareConfig.py中为使用的颜色）。
#. 按控制器上的L1以“激活”机器狗。控制器应变成亮绿色（或再次变为您在HardwareConfig中选择的任何颜色）。
#. 请查看下面的控制部分，学习如何操作机器狗。

机器狗的控制
---------------

* L1：按下可切换活动模式或停止模式。
    
    * 注意：PS4控制器的前灯将更改颜色，以指示是停止还是激活了机器狗。

* R1: 按此按钮可在休息模式和小跑模式之间切换
* 左操纵杆

    * 前进/后退：在“小跑”模式下向前/向后移动机器狗
    * 左/右：在“小跑”模式下向左/向右移动机器狗
* 右操纵杆
    
    * 前进/后退：向前和向后倾斜机器狗
    * 左/右：左右旋转机器狗
* D-Pad

    * 前进/后退：升高和降低身体
    * 左/右：向左/向右滚动身体
*“ X ”按钮：按下三下可完成完整跳


重要事项：
---------------

* PS4控制器配对说明（重复上述说明）
    
    * 要将其置于配对模式，请同时按住共享按钮Share和圆形Playstation按钮，直到开始快速进行交替双闪
    * 如果开始缓慢闪烁一次，请按住Playstation按钮直到停止闪烁，然后重试。

* 电池电压(北石化的用户已经配好电压报警器，请使用)
    
    *	如果以高于8.4V（又称> 2S）的电压为机器狗供电，则几乎可以肯定会炸掉所有昂贵的伺服器！
    *	另外请注意，在运行机器狗时，应在电池上安装脂电池警报器，以便知道电池何时耗尽。过度放电会引发火灾，尤其是在完全放电后尝试再次充电时。
    *	当电池大部分已放电时，机器狗将走得更差，因为较低的电压将流向电动机。

* 脚!

    * •	将裸露的碳纤维用作脚，非常适用于包括地毯在内的抓紧表面。如果要在更光滑的表面上使用机器狗，建议购买橡胶垫圈，并将其固定在脚上的预先钻孔中。

参数调整
-------

* 您可以通过更改配置文件来使用不同的行走参数 ``StanfordQuadruped/pupper/Config.py``

    * ``self.max_x_velocity`` [m/s]: 最大前进/后退小跑速度
    * ``self.max_y_velocity`` [m/s]: 最大左/右小跑速度
    * ``self.max_yaw_rate`` [rad/s]: 最大转弯速度
    * ``self.z_clearance`` [m]: 挥杆过程中机器狗怎样将每条腿抬离地面。之所以称为z_clearance，是因为它是挥杆过程中脚与地面之间在z轴上的最大距离。您可以增加此值以使机器狗抬腿更高。
    * ``self.overlap_time`` [s]: 每走一步，机器狗的所有腿放在地面的总时间。增大此值可使行走更稳。
    * ``self.swing_time`` [s]: 机器狗将每只脚悬空的时间。 